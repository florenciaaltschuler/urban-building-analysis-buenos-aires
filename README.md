# ğŸ™ï¸ Urban Morphology Analysis â€“ Buenos Aires

This repository contains a Python-based geospatial analysis pipeline for studying urban morphology in Buenos Aires, using building data provided by **Google Open Buildings**.

---

## ğŸ¯ Objective

To extract and analyze two key morphological metrics from vector building data:

- **Building density**
- **Building orientation**

---

## âš™ï¸ Methodology

### ğŸ“‚ Input Data & File Structure
For this analysis, we used the **95b_buildings** dataset from the [Google Open Buildings](https://sites.research.google/open-buildings/) project, which provides polygon footprints of buildings globally.

Specifically:
- We used the file **`95b_buildings.csv`** corresponding to a tile in Buenos Aires.
- This file must be placed in a folder named `95b_buildings`, so the full path is:

```
95b_buildings.csv/95b_buildings.csv
```

> ğŸ“Œ Make sure to download and extract the `.csv` version of the dataset.

---

### ğŸ“¤ Output Files

The outputs generated by the notebook are saved in the `/output` folder:

- `/output/densidad_edilicia.geojson` â€” grid with building density per cell
- `/output/orientacion_promedio.geojson` â€” grid with average building orientation
- `/output/orientacion_visualizacion.png` â€” combined map with orientation arrows and color
- Optionally, `.shp` versions of the outputs are also saved for GIS use

The code automatically creates the `/output` folder if it does not exist.

---


### A. Building Density

- A regular **10 x 10 meter grid** is generated over the study area.
- For each grid cell, the **proportion of area covered by buildings** is calculated as:

  \[
  \text{Density} = \frac{\text{Total building area in cell}}{\text{Cell area}}
  \]

- Output: a GeoDataFrame with density values per cell.

### B. Building Orientation

- For each individual building, the **dominant orientation angle** (from 0Â° to 180Â°) is estimated using **Principal Component Analysis (PCA)** on the polygon vertices.
- The **average orientation** of all buildings within each grid cell is then computed.
- Output: a grid with the mean orientation angle per cell.

---

## ğŸ§ª Assumptions and Processing Steps

- PCA was used to approximate the dominant direction of each building footprint.
- The analysis focuses on a selected sub-area to optimize performance and visualization clarity.
- Due to computational limitations, the analysis was restricted to the **City of Buenos Aires (CABA)**. The city boundaries were obtained from **OpenStreetMap** and used to clip the input data and reduce processing time.


---

## ğŸ“¦ Libraries Used

- `geopandas`
- `shapely`
- `numpy`
- `matplotlib`
- `scikit-learn` (for PCA)

---

## ğŸ“ Output Files

- `densidad_edilicia.geojson`: grid with building density values per cell.
- `orientacion_promedio.geojson`: grid with average orientation angles per cell.
- `orientacion_visualizacion.png`: visualization map showing both individual and average orientations.

---

## ğŸ“ Notes

- The analysis is fully reproducible and implemented in a single Jupyter Notebook.
- Visualizations combine:
  - Red arrows for individual building orientation
  - Black arrows and cyclic color scale for average orientation per grid cell

---

## ğŸ‘¤ Author

Exercise completed by [Florencia Altschuler]. 
